!function(a){a(function(){var t=a(".post-favourite").attr("data-post_id"),e=a(".post-favourite").attr("data-user_id"),o=a(".post-favourite").attr("data-nonce");a.ajax({type:"post",dataType:"json",url:wmh_ajax.ajaxurl,data:{action:"wmh_check_favourites",post_id:t,user_id:e,nonce:o}}).always(function(t){"true"==t.favourites?(a(".post-favourite").addClass("hidden"),a(".post-unfavourite").removeClass("hidden"),a(".post-unfavourite i").addClass("hidden"),a(".post-favourite i").addClass("hidden")):(a(".post-unfavourite").addClass("hidden"),a(".post-favourite").removeClass("hidden"),a(".post-favourite i").addClass("hidden"),a(".post-unfavourite i").addClass("hidden"))}),a(document).on("click",".post-favourite",function(s){a(".post-favourite i").removeClass("hidden"),a.ajax({type:"post",dataType:"json",url:wmh_ajax.ajaxurl,data:{action:"wmh_add_favourite",post_id:t,user_id:e,nonce:o}}).always(function(t){"success"==t.type?(a(".post-favourite i").addClass("hidden"),a(".post-favourite").addClass("hidden"),a(".post-unfavourite").removeClass("hidden"),a("#wmh_favourites-alert").html(wmh_ajax.favourite_success).fadeIn(),setTimeout(function(){a(".alert.affix").fadeOut(function(){a(this).empty()})},4e3)):(a(".post-favourite i").addClass("hidden"),alert(wmh_ajax.favourite_fail))}),s.preventDefault()}),a(document).on("click",".post-unfavourite",function(s){a(".post-unfavourite i").removeClass("hidden"),a.ajax({type:"post",dataType:"json",url:wmh_ajax.ajaxurl,data:{action:"wmh_remove_favourite",post_id:t,user_id:e,nonce:o}}).always(function(t){"success"==t.type?(a(".post-unfavourite i").addClass("hidden"),a(".post-unfavourite").addClass("hidden"),a(".post-favourite").removeClass("hidden"),a("#wmh_unfavourites-alert").html(wmh_ajax.unfavourite_success).fadeIn(),setTimeout(function(){a(".alert.affix").fadeOut(function(){a(this).empty()})},4e3)):(a(".post-unfavourite i").addClass("hidden"),alert(wmh_ajax.unfavourite_fail))}),s.preventDefault()})})}(jQuery);